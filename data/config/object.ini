[Object]
Group           = Game

; === Lamp ===

[Lamp@Object]
Graphic         = @
Texture         = pixel
Pivot           = center
Position        = (5, 2, -1)
FXList          = Wiggle
RGB             = (1, 0.7, 0.25)
BlendMode       = add
ShaderList      = @
Code            = "
void main()
{
    float Value = 0.5 - smoothstep(0.2, 0.4, distance(gl_TexCoord[0].xy, vec2(0.5)));
    gl_FragColor = vec4(gl_Color.rgb, Value);
}
"

[Wiggle]
Type            = scale
Curve           = triangle
StartValue      = 1
EndValue        = 0.96 # 0.98
StartTime       = 0
EndTime         = 0.1 ~ 0.15
Loop            = true
DoNotCache      = true

; === Oil ===
[Oil@Object]
Graphic         = @
Texture         = Oil.png
Body            = @
Scale           = 0.8
PartList        = @
AllowMoving     = true
Type            = box
SelfFlags       = Oil
CheckMask       = Player
Flip            = none # x # y # both
Pivot           = center truncate
PickUp          = PickUpOil

[PickUpOil]
Immediate       = true
0               = > Get Runtime Collider, > Object.GetName < #
                  > Get Runtime "<Oil" # > Get Game LampRefill, > + < <, > Get Game LampCapacity, > Min < < #
                  > Get Runtime Collider, > Object.GetName < #
                    Set Runtime "<Oil" < #
                    Object.Delete ^

[Oil1@Oil]
Position        = (7, 4, 0.1)

[Oil2@Oil]
Position        = (10, 10, 0.1)

[Obstacle@Object]
Body            = @
HighSpeed       = true
Graphic         = @
AllowMoving     = true
Type            = box
Solid           = true
SelfFlags       = Obstacle
CheckMask       = Player

[Box@Obstacle]
Texture         = box.png
TopLeft         = (1,0)
BottomRight     = (7,8)

[Chair_Horizontal_Top@Obstacle]
Texture         = chair_horizontal_top.png
TopLeft         = (2,0)
BottomRight     = (17,10)

[Chair_Vertical_Bottom_Right@Obstacle]
Texture         = chair_vertical_bottom_right.png
TopLeft         = (3,2)
BottomRight     = (10,13)

[Chair_Vertical_Bottom_Left@Obstacle]
Texture         = chair_vertical_bottom_left.png
TopLeft         = (2,2)
BottomRight     = (9,13)

[Box1@Box]
Position        = (45,11)

[Box2@Box]
Position        = (19,36)

[Box3@Box]
Position        = (30,36)

[Box4@Box]
Position = (30,22)

[Box5@Box]
Position = (40,22)
ChildList       = Oil1 ##

[Box6@Box]
Position = (50,22)

[Box7@Box]
Position = (100,33)
ChildList = Oil1

[Box8@Box]
Position = (80,22)

[Box9@Box]
Position = (50,22)

[Chair1@Chair_Horizontal_Top]
Position        = (59,9)
ChildList       = Oil2

[Chair2@Chair_Horizontal_Top]
Position        = (90,9)
ChildList       = Oil2

[Chair3@Chair_Vertical_Bottom_Right]
Position        = (90,32)

[Chair4@Chair_Vertical_Bottom_Left]
Position        = (105,32)

[Chair5@Chair_Horizontal_Top]
Position        = (20,9)
ChildList       = Oil2

[Chair6@Chair_Vertical_Bottom_Right]
Position        = (25,32)

[Chair7@Chair_Vertical_Bottom_Left]
Position        = (40,32)

[Chair8@Chair_Horizontal_Top]
Position        = (50,9)
ChildList       = Oil2

@train.ini@
