; ld46 - Template basic config file

[Display]
; FullScreen = false + Decoration = false + no dimension -> Borderless FullScreen
Title           = ld46
FullScreen      = true
Decoration      = false
Smoothing       = false
VSync           = true

[Resource]
Texture         = data.zip # ../data/texture # ../data/font
Sound           = data.zip # ../data/sound

[Physics]
DimensionRatio  = 0.01
Gravity         = (0, 0)

[Config]
DefaultParent   = Default

[Default]
SlotList        = @
PartList        = @
KeepInCache     = true

[Input]
SetList         = MainInput

[MainInput]
KEY_ESCAPE      = Quit
KEY_RETURN      = Start
KEY_SPACE       = Start
JOY_A_1         = Start
JOY_START_1     = Start

[Game]
Scale           = 6
HardDoorSkip    = 6 ~ 8
ViewportList    = CompositingViewport
LampCapacity    = 130
LampBurnRate    = 5 # 8 # 10 # 12 # 14 # 15 # 16 # 17 # 18 # 19 # 20 # 21 # 22 # 23 # 24 # 25 # 26 # 27 # 28 # 29 # 30
LampRefill      = 50
PlayerSpeed     = 70
PlayerDashSpeed = 200

[CompositingViewport]
ShaderList      = @
BackgroundColor = (120, 120, 120)
BackgroundAlpha = 0
BlendMode       = none
FixedRatio      = % > Get MainCamera FrustumHeight, > Get MainCamera FrustumWidth, / < <
ParamList       = Back
Code            = "
void main()
{
    gl_FragColor = vec4(texture2D(Back, gl_TexCoord[0].xy).rgb, 1.0);
}
"
Back            = BackTexture
NoDebug         = true

[MainViewport]
Camera          = MainCamera
BackgroundColor = (0, 0, 0)
BackgroundAlpha = 0
Size            = % > Get MainCamera FrustumHeight, > Get MainCamera FrustumWidth, return (<, <)
TextureList     = BackTexture
NoDebug         = true

[MainCamera]
GroupList       = Background # Train # Game # Player # Doorframe # Foreground # Lamp # UI
FrustumWidth    = 1920
FrustumHeight   = 1080
FrustumFar      = 2
FrustumNear     = 0
Position        = (0, 0, -1)

[Menu]
ID              = Menu
Pausable        = false
Graphic         = @
TrackList       = SetID
ChildList       = Scene

[Scene]
ID              = Scene
TrackList       = SetID
ChildList       = Player1 # Background # Trains

[GameOver]
Pausable        = false
TrackList       = @
0.1             = Input.SetValue Pause 1

[Background]
Group           = Background
ParentCamera    = MainCamera
Scale           = 1
Position        = (0, 0, 1)
Pivot           = center
RGB             = (.6,1,.7)
Graphic         = @
Texture         = pixel
ChildList       = DeathWallLeft # LimitWallRight # DeathWallTop # DeathWallBottom # FlowerSpawner # Foreground

[DeathWall]
Body            = @
Type            = box
SelfFlags       = Death
CheckMask       = Player
UseParentSpace  = both
Size            = % >> Get MainCamera FrustumWidth, return (<, <)

[LimitWall@DeathWall]
SelfFlags       = Obstacle
Solid           = true

[DeathWallLeft@DeathWall]
Pivot           = right
Position        = (-0.5, 0)

[LimitWallRight@LimitWall]
Pivot           = left
Position        = (0.5, 0)

[DeathWallTop@DeathWall]
Pivot           = bottom
Position        = (0, -0.31)

[DeathWallBottom@DeathWall]
Pivot           = top
Position        = (0, 0.44)

[SetID]
0               = > Object.GetName ^, > Get < ID, Set Runtime < ^

@object.ini@
@player.ini@
@commondev.ini@
